---
title: Plugin Configuration Reference
description: All configuration keys, types, defaults, and descriptions for the AOF OpenClaw plugin.
sidebar:
  order: 3
---

import { Aside } from '@astrojs/starlight/components';

AOF is configured via the `plugins.aof.config` section of `~/.openclaw/openclaw.json`.

## Full Configuration Example

```json
{
  "plugins": {
    "aof": {
      "enabled": true,
      "config": {
        "dryRun": false,
        "dataDir": "~/.openclaw/aof",
        "gatewayUrl": "http://127.0.0.1:18789",
        "gatewayToken": "your-token-here",
        "pollIntervalMs": 30000,
        "defaultLeaseTtlMs": 1800000,
        "heartbeatTtlMs": 300000,
        "maxConcurrentDispatches": 3,

        "modules": {
          "memory": { "enabled": false },
          "dispatch": { "enabled": true },
          "murmur": { "enabled": true },
          "linter": { "enabled": true }
        },

        "memory": {
          "embedding": {
            "provider": "openai",
            "model": "text-embedding-3-small",
            "apiKey": "sk-...",
            "dimensions": 1536
          },
          "search": {
            "hybridEnabled": true,
            "vectorWeight": 0.7,
            "bm25Weight": 0.3,
            "maxResults": 10,
            "tierBoost": {
              "hot": 1.0,
              "warm": 0.8,
              "cold": 0.5
            }
          },
          "indexPaths": [
            "~/Projects/AOF/docs"
          ]
        }
      }
    }
  }
}
```

---

## Core Configuration

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `dryRun` | boolean | `false` (plugin), `true` (CLI) | If `true`, scheduler evaluates but doesn't dispatch or mutate state. **Must be `false` for active operation.** |
| `dataDir` | string | `~/.openclaw/aof` | Root directory for tasks, events, views, and memory |
| `gatewayUrl` | string | — | OpenClaw gateway URL (e.g., `http://127.0.0.1:18789`). Auto-detected from gateway config if not set. |
| `gatewayToken` | string | — | Authentication token for gateway API calls. Falls back to `OPENCLAW_GATEWAY_TOKEN` env var. |
| `pollIntervalMs` | number | `30000` | Scheduler poll interval in milliseconds (30 seconds) |
| `defaultLeaseTtlMs` | number | `1800000` | Default lease TTL for dispatched tasks (30 minutes) |
| `heartbeatTtlMs` | number | `300000` | How long a heartbeat is valid (5 minutes) |
| `maxConcurrentDispatches` | number | `3` | Maximum tasks dispatched simultaneously (1–50) |

<Aside type="caution">
Setting `dryRun: true` in production is a common misconfiguration. The scheduler will log what it _would_ dispatch but never actually assign work. Always verify with `aof scheduler run` after changing this setting.
</Aside>

---

## Module Toggles

Enable or disable specific AOF modules:

```json
{
  "modules": {
    "memory": { "enabled": false },
    "dispatch": { "enabled": true },
    "murmur": { "enabled": true },
    "linter": { "enabled": true }
  }
}
```

| Module | Default | Description |
|--------|---------|-------------|
| `dispatch` | `true` | Task scheduler and dispatch engine |
| `memory` | `false` | Memory medallion pipeline + vector search |
| `murmur` | `true` | Orchestration review triggers |
| `linter` | `true` | Task file linting on write |

<Aside type="note">
The memory module is **disabled by default** to avoid conflicting with OpenClaw's built-in `memory-core` plugin. You can run both simultaneously — they use separate storage — but you must explicitly enable AOF's memory module.
</Aside>

---

## Memory Configuration

Only relevant when `modules.memory.enabled: true`.

### memory.embedding

Configure the embedding provider for vector search:

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `provider` | `"openai"` \| `"ollama"` | — | Embedding provider |
| `model` | string | — | Model name (e.g., `"text-embedding-3-small"`) |
| `apiKey` | string | — | API key (for OpenAI) |
| `baseUrl` | string | — | Base URL (for Ollama: `"http://localhost:11434"`) |
| `dimensions` | number | — | Embedding vector dimensions |

**OpenAI:**
```json
{
  "embedding": {
    "provider": "openai",
    "model": "text-embedding-3-small",
    "apiKey": "sk-...",
    "dimensions": 1536
  }
}
```

**Ollama (local):**
```json
{
  "embedding": {
    "provider": "ollama",
    "model": "nomic-embed-text",
    "baseUrl": "http://localhost:11434",
    "dimensions": 768
  }
}
```

### memory.search

Configure hybrid search behavior:

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `hybridEnabled` | boolean | `true` | Enable hybrid vector + BM25 scoring |
| `vectorWeight` | number (0–1) | `0.7` | Weight for vector similarity component |
| `bm25Weight` | number (0–1) | `0.3` | Weight for BM25 keyword component |
| `maxResults` | number | `10` | Maximum search results to return |
| `tierBoost.hot` | number | `1.0` | Score multiplier for hot tier documents |
| `tierBoost.warm` | number | `0.8` | Score multiplier for warm tier documents |
| `tierBoost.cold` | number | `0.5` | Score multiplier for cold tier documents |

### memory.indexPaths

Additional filesystem paths to include in the vector index (beyond managed memory pools):

```json
{
  "indexPaths": [
    "~/Projects/AOF/docs",
    "~/shared-knowledge/engineering"
  ]
}
```

---

## Environment Variables

Some config values can be provided via environment variables:

| Variable | Config key | Description |
|----------|-----------|-------------|
| `OPENCLAW_GATEWAY_TOKEN` | `gatewayToken` | Gateway auth token |
| `AOF_ROOT` | `dataDir` | AOF root directory |
| `AOF_DRY_RUN` | `dryRun` | Set to `"true"` for dry-run mode |

Environment variables take lower precedence than explicit config values.

---

## Standalone Daemon Configuration

When running AOF as a standalone daemon (not via OpenClaw), configuration can be provided via:

1. `~/.aof/config.json` (user config)
2. `.aof/config.json` (project config, higher precedence)
3. Environment variables

The standalone config uses the same schema as the plugin config.
