---
title: Conventional Commits
description: AOF uses conventional commits for automated changelog generation and semantic versioning.
sidebar:
  order: 2
---

AOF enforces [Conventional Commits](https://www.conventionalcommits.org/) via `commitlint`. Every commit to `main` must follow the format.

## Format

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

### Types

| Type | Description | Release bump |
|------|-------------|-------------|
| `feat` | A new feature | minor |
| `fix` | A bug fix | patch |
| `docs` | Documentation changes | — |
| `chore` | Build process, tooling, dependencies | — |
| `refactor` | Code restructuring (no behavior change) | — |
| `test` | Adding or fixing tests | — |
| `perf` | Performance improvement | patch |
| `style` | Formatting, whitespace (no behavior change) | — |
| `ci` | CI/CD configuration changes | — |

### Breaking Changes

Breaking changes get an `!` after the type or a `BREAKING CHANGE:` footer:

```
feat!: redesign task store API

BREAKING CHANGE: ITaskStore.get() now returns undefined instead of null
```

Breaking changes trigger a **major** version bump.

## Examples

```bash
# New feature
git commit -m "feat(dispatch): add adaptive concurrency based on agent load"

# Bug fix
git commit -m "fix(gate-evaluator): handle missing callerRole gracefully"

# Breaking change
git commit -m "feat!: remove legacy task store v1 compatibility"

# With scope and body
git commit -m "feat(memory): add ollama embedding provider

Supports local Ollama instances for zero-cost embeddings.
Requires ollama serving on localhost:11434.

Closes #42"

# Documentation
git commit -m "docs(workflow-gates): add conditional gate examples"

# Chore
git commit -m "chore(deps): upgrade @modelcontextprotocol/sdk to 1.26.0"
```

## Enforcement

`commitlint` runs on every commit via the `commit-msg` git hook:

```bash
# ✅ Valid commits
git commit -m "feat: add rate limiting"
git commit -m "fix(scheduler): handle empty task queue"
git commit -m "docs: update installation guide"

# ✗ Invalid (rejected by commitlint)
git commit -m "add rate limiting"           # No type prefix
git commit -m "Feature: new endpoint"       # Wrong case
git commit -m "feat add rate limiting"      # Missing colon
```

## Scope Convention

Scopes are optional but help with changelog generation. Common scopes:

| Scope | Description |
|-------|-------------|
| `dispatch` | Scheduler, dispatcher, gate evaluator |
| `store` | Task store |
| `protocol` | Protocol router |
| `memory` | Memory module |
| `cli` | CLI commands |
| `org` | Org chart |
| `events` | Event logger, notifications |
| `metrics` | Prometheus metrics |
| `mcp` | MCP server |
| `docs` | Documentation site |
| `deps` | Dependencies |
| `ci` | CI/CD |
